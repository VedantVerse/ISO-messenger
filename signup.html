<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>ISO â€” Sign Up</title>
<link rel="stylesheet" href="styles.css">
<style>
  body, html {
    margin:0;
    padding:0;
    height:100%;
    font-family: Inter, system-ui, sans-serif;
    background:#000;
    color:white;
    display:flex;
    justify-content:center;
    align-items:center;
    flex-direction:column;
    overflow:hidden;
  }

  canvas#bgCanvas {
    position: fixed;
    top:0; left:0;
    width:100%;
    height:100%;
    z-index:-1;
  }

  .animated-title {
    font-size:48px;
    font-weight:900;
    background: linear-gradient(270deg, #ff0000, #ff6ec7, #7c4dff, #7fff4d);
    background-size: 400% 400%;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    animation: gradientShift 6s ease infinite;
    text-align:center;
    margin-bottom:10px;
    text-shadow:0 0 15px rgba(166,77,255,0.6);
  }

  @keyframes gradientShift{
    0%{background-position:0% 50%}
    50%{background-position:100% 50%}
    100%{background-position:0% 50%}
  }

  .signup-box{
  background: rgba(255, 255, 255, 0.1);  /* a bit more visible */
  backdrop-filter: blur(20px) saturate(180%);
  -webkit-backdrop-filter: blur(20px) saturate(180%); /* for Safari/Chrome */
  border:1px solid rgba(255,255,255,0.2);
  padding:30px;
  border-radius:20px;
  box-shadow:0 0 30px rgba(124,77,255,0.3);
  display:flex;
  flex-direction:column;
  align-items:center;
  width:300px;
}

  h2{
    color:#fff;
    text-shadow:0 0 8px #a64dff;
    text-align:center;
    margin-bottom:20px;
  }

  input{
    width:100%;
    padding:12px;
    margin:10px 0;
    border-radius:12px;
    border:1px solid rgba(255,255,255,0.3);
    outline:none;
    font-size:16px;
    background: rgba(0,0,0,0.4);
    color:#fff;
    transition: box-shadow 0.3s;
  }

  input:focus{
    box-shadow:0 0 10px #7c4dff;
    border-color:#7c4dff;
  }

  button{
    width:100%;
    background: linear-gradient(90deg,#a64dff,#7c4dff);
    border:none;
    padding:12px 20px;
    border-radius:12px;
    color:white;
    cursor:pointer;
    font-weight:700;
    transition: transform 0.2s, box-shadow 0.3s;
    margin-top:10px;
  }
  button:hover{ 
    transform:translateY(-3px); 
    box-shadow:0 4px 15px rgba(124,77,255,0.5);
  }

  .alt-link{
    margin-top:15px;
    color:#aaa;
    font-size:14px;
    text-align:center;
  }

  .alt-link a{
    color:#7c4dff;
    text-decoration:none;
    font-weight:bold;
  }

</style>
</head>
<body>
<canvas id="bgCanvas"></canvas>

<div class="animated-title">ISO</div>

<div class="signup-box">
  <h2>Create Your Account</h2>

  <input id="name" placeholder="Name" autocomplete="off" />
  <input id="email" type="email" placeholder="Email" autocomplete="off" />
  <input id="password" type="password" placeholder="Password" autocomplete="off" />

  <button id="signupBtn">Create Account</button>
  <div class="alt-link">
    Already have an account? <a href="index.html">Log in</a>
  </div>
</div>

<script src="app.js"></script>
<script>
document.getElementById('signupBtn').addEventListener('click', async ()=>{
  const name = document.getElementById('name').value.trim();
  const email = document.getElementById('email').value.trim();
  const password = document.getElementById('password').value.trim();

  if(!name || !email || !password){
    alert('Fill all fields ðŸ˜Š');
    return;
  }

  // Send signup request to backend
  const res = await fetch('/api/signup', {
    method:'POST',
    headers:{'Content-Type':'application/json'},
    body:JSON.stringify({name,email,password})
  });
  const data = await res.json();
  if(data.success){
    alert('Check your email to verify your account!');
    window.location='index.html';
  } else {
    alert(data.error || 'Something went wrong ðŸ˜¢');
  }
});

// STARFIELD background (reuse your existing code)
const canvas = document.getElementById('bgCanvas');
const ctx = canvas.getContext('2d');
let w = canvas.width = window.innerWidth;
let h = canvas.height = window.innerHeight;

window.addEventListener('resize', ()=>{
  w = canvas.width = window.innerWidth;
  h = canvas.height = window.innerHeight;
});

let stars = [];
for(let i=0;i<150;i++){
  stars.push({
    x: Math.random()*w,
    y: Math.random()*h,
    r: Math.random()*1.5+0.5,
    alpha: Math.random(),
    delta: Math.random()*0.02+0.01
  });
}

function animate(){
  ctx.fillStyle='black';
  ctx.fillRect(0,0,w,h);

  for(let s of stars){
    ctx.beginPath();
    ctx.arc(s.x,s.y,s.r,0,Math.PI*2);
    ctx.fillStyle = `rgba(255,255,255,${s.alpha})`;
    ctx.fill();

    s.alpha += s.delta;
    if(s.alpha <= 0){ s.alpha = 0; s.delta *= -1; }
    if(s.alpha >= 1){ s.alpha = 1; s.delta *= -1; }
  }

  requestAnimationFrame(animate);
}
animate();
</script>
</body>
</html>
